+++
title = "Commands I use, but often forget"
date = 2005-02-13T20:58:00Z
updated = 2005-02-13T21:06:56Z
categories = ["blog"]
topics = ["blog"]
slug = "commands-i-use-but-often-forget"
url = "blog/2005/02/commands-i-use-but-often-forget/"
+++

<b><br /><span style="font-size:100%;">Importing (Restoring)                   Many MySQLDump Text Files:</span></b><span style=""><br />               ~ from a user (paraphrased): <i>"If we have 100+ mysqldump *.txt files, how can we easily import them all, in order to restore a database, without typing each file name in by hand? (i.e. from the shell prompt, piped to the mysql monitor:<br />               <b> mysql mydb <>). Wouldn't it be better for the script to write all the tables to one text sql file?" </b></i></span><b>                    </b><blockquote><b>                     </b><p><b> <span style="">=> </span></b><span style="">I suppose the script could be rewritten, but it's more flexible the way it is, considering that one can use the Linux shell prompt to do the same thing. Assuming that the database name is 'test', and that the files have the extension of '.txt', you can use this command:</span></p><b>                     </b><p><b><b>find . -name "*.txt" -print | xargs -t --replace cat                       {} | mysql test</b></b></p><b>                     </b><p><span style=""> That parses through all the files and reads the contents using 'cat' and then pipes the contents one by one to the mysql monitor with the database 'test'. The '-t' shows you the file names as it works, so you're not staring at a blank screen. If you change the '-t' to a '-p', it will prompt you at each file. Try it on a test database first, to be safe :-) Note: I think the xargs version above is better than:</span></p><b>                     </b><p><b><b>cat *.txt | mysql test</b></b></p><b>                     </b><p><span style="">... because of the limitations of the command line size, assuming one has many files. Also, the xargs version shows you the filenames as they process. Of course, there are probably many other ways to accomplish the above, given the eclectic nature of Unix.</span></p><b>                   </b></blockquote><b><br /></b><nobr><span style="font-size:100%;">find . -name "*.sql" -print | xargs -t --replace cat {} | /usr/local/mysql/bin/mysql --password -D pm</span></nobr><b><br /><br /><a href="http://worldcommunity.com/opensource/utilities/mysql_backup.html">http://worldcommunity.com/opensource/utilities/mysql_backup.html</a><br /><br /><br /><span style="font-size:130%;"><span style="font-weight: bold;">Secure copy file from one host to RemoteHost:</span></span><br /><br /></b>scp $FileName $UserName@$RemoteHost:/path/on/remote/host/$FileName<b><br /><br /></b>
