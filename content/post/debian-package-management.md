+++
title = "Debian Package management"
date = 2005-11-13T13:23:00Z
updated = 2005-11-13T13:29:04Z
categories = ["blog"]
topics = ["blog"]
slug = "debian-package-management"
url = "blog/2005/11/debian-package-management/"
+++

<span style="font-size:130%;">Debian Package management<br /><br /></span><span style="font-weight: bold;">apt-get update</span><br />Run this after changing /etc/apt/sources.list or /etc/apt/preferences. (this debianhelp.org page is helpful); run it periodically anyway, to make sure your source list is up-to-date.<br /><br /><span style="font-weight: bold;">apt-get install packagename</span><br />   installs a new package: rpm -i package.rpm<br /><br /><span style="font-weight: bold;">apt-cache search string</span><br />   Searches for string in the list of known packages: like using rpmfind.<br /><br /><span style="font-weight: bold;">dpkg -l package-name-pattern</span><br />   List packages matching pattern: rpm -q pattern or rpm -qa | grep pattern.<br />aptitude<br />   Curses viewer of packages installed or available.<br /><br /><span style="font-weight: bold;">apt-cache showpkg pkgs...</span><br />   Show information about packages.<br /><br /><span style="font-weight: bold;">apt-cache dumpavail</span><br />   Prints out an available list.<br /><br /><span style="font-weight: bold;">apt-cache show pkgs...</span><br />   Displays package records, similar to dpkg --print-avail. Like rpm -q packagename.<br /><br /><span style="font-weight: bold;">apt-cache pkgnames</span><br />   Fast listing of every package in the system.<br /><br /><span style="font-weight: bold;">dpkg -S file</span><br />   Which installed package owns the file? rpm -qf file.<br /><br /><span style="font-weight: bold;">dpkg -L package</span><br />   List files in the package. rpm -ql package<br /><br /><span style="font-weight: bold;">apt-file search filename</span><br />Search for a package (need not be installed) containing files including the string. apt-file is a package of its own, which you may have to apt-get install first, then run apt-file update. If apt-file search filename shows you too much, try apt-file search filename | grep -w filename (which shows you only the files that contain filename as a whole word) or variants like apt-file search filename | grep /bin/ only files located in directories like /bin or /usr/bin, useful if you're looking for a particular executable).<br /><br /><span style="font-weight: bold;">apt-get autoclean</span><br />Run this periodically to clean out .deb archives from packages which are no longer installed on the system. You can regain lots of disk space that way. If you're really desperate for disk space, apt-get clean is more radical, and will remove .deb files even for packages currently installed. But most of the time you probably don't need the .debs any more, so it might be worth it if you're strapped for megabytes.<br /><br /><span style="font-weight: bold;">apt-cache policy pkg</span><br />

Show which repository pkg came from, if you have multiple ones in sources.list.<br /><br /><span style="font-weight: bold;">apt-cache show </span>$package<span style="font-weight: bold;"> | grep ^Source</span><br />Find the source package which produces this binary package. If it returns nothing, then the source package name is the same as the binary package name.<br /><br /><span style="font-weight: bold;">apt-cache depends </span>$package<br />

Show what $package depends on.<br /><br /><span style="font-weight: bold;">apt-cache rdepends </span> $package<br />

Show what other packages depend on $package. grep-excuses $package$<br />

Show why package, in unstable, isn't in testing yet.<br /><br />deborphan and debfoster are great for finding orphaned and unneeded packages which can be removed.<br /><br />You can pull from a different repository by editing /etc/apt/sources.list to replace "stable" with "unstable" (or whatever) then doing apt-get update.<br />
